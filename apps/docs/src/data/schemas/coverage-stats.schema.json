{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://eslint.interlace.tools/schemas/coverage-stats.json",
    "title": "CoverageStatsData",
    "description": "Test coverage statistics for the ESLint ecosystem. Generated by GitHub Actions workflow update-coverage-stats.yml",
    "type": "object",
    "required": [
        "summary",
        "plugins",
        "standards",
        "meta"
    ],
    "properties": {
        "summary": {
            "type": "object",
            "required": [
                "totalCoverage",
                "totalFiles",
                "totalLines",
                "coveredLines",
                "uncoveredLines"
            ],
            "description": "Aggregate coverage metrics across all plugins",
            "properties": {
                "totalCoverage": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Overall coverage percentage (0-100)"
                },
                "totalFiles": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Number of source files with coverage data"
                },
                "totalLines": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Total lines of code tracked for coverage"
                },
                "coveredLines": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Lines executed during tests"
                },
                "uncoveredLines": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Lines not executed during tests"
                }
            },
            "additionalProperties": false
        },
        "plugins": {
            "type": "object",
            "description": "Coverage data grouped by plugin category",
            "properties": {
                "security": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/CoveragePluginStat"
                    },
                    "description": "Security and framework plugins"
                },
                "quality": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/CoveragePluginStat"
                    },
                    "description": "Quality and architecture plugins"
                }
            },
            "additionalProperties": false
        },
        "standards": {
            "type": "object",
            "description": "Coverage thresholds/targets by category",
            "properties": {
                "coreSecurity": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Target coverage % for core security plugins"
                },
                "frameworkPlugins": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Target coverage % for framework plugins"
                },
                "qualityPlugins": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Target coverage % for quality plugins"
                }
            },
            "additionalProperties": false
        },
        "meta": {
            "type": "object",
            "required": [
                "generatedAt",
                "source",
                "ttl"
            ],
            "description": "Metadata about when and how coverage was collected",
            "properties": {
                "generatedAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "ISO 8601 timestamp when data was generated"
                },
                "source": {
                    "type": "string",
                    "enum": [
                        "local-lcov",
                        "codecov-api",
                        "estimated"
                    ],
                    "description": "Data source: local lcov files, Codecov API, or estimated defaults"
                },
                "ttl": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Suggested cache TTL in seconds (default: 14400 = 4 hours)"
                }
            },
            "additionalProperties": false
        }
    },
    "definitions": {
        "CoveragePluginStat": {
            "type": "object",
            "required": [
                "name",
                "slug",
                "coverage",
                "status",
                "category"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "pattern": "^eslint-plugin-[a-z0-9-]+$",
                    "description": "Full npm package name"
                },
                "slug": {
                    "type": "string",
                    "pattern": "^[a-z0-9-]+$",
                    "description": "Short name without eslint-plugin- prefix"
                },
                "coverage": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Coverage percentage for this plugin"
                },
                "status": {
                    "type": "string",
                    "enum": [
                        "production",
                        "beta",
                        "alpha"
                    ],
                    "description": "Release status of the plugin"
                },
                "category": {
                    "type": "string",
                    "enum": [
                        "security",
                        "quality"
                    ],
                    "description": "Category for grouping in coverage display"
                }
            },
            "additionalProperties": false
        }
    },
    "additionalProperties": false
}