# Documentation Site Styling Guide

## Overview

This document captures the key styling decisions and configurations for the Interlace ESLint Documentation Portal built with Fumadocs and Tailwind CSS v4.

## Table of Contents Styling (Clerk Style)

### Problem Solved

The "clerk" style TOC requires:

1. A vertical indicator line on the left side of TOC items
2. Purple (Interlace brand) highlighting for active items
3. Proper indentation for nested headings (h3, h4)

### Key Configuration Files

#### 1. `global.css` - Brand Colors & Tailwind v4 Fixes

```css
/* Brand color overrides - must use :root and .dark selectors */
:root {
  --color-fd-primary: hsl(263, 80%, 45%) !important; /* Purple */
  --color-fd-foreground: hsl(0, 0%, 3.9%) !important; /* For line colors */
}

.dark {
  --color-fd-primary: hsl(270, 75%, 75%) !important; /* Lighter purple */
  --color-fd-foreground: hsl(0, 0%, 92%) !important;
}
```

**Critical Tailwind v4 Arbitrary Property Fix:**

```css
/* These utilities are NOT generated by Tailwind v4 from content scanning */
.h-\(--fd-height\) {
  height: var(--fd-height);
}

.top-\(--fd-top\) {
  top: var(--fd-top);
}
```

#### 2. `tailwind.config.mjs` - Content Scanning

The monorepo structure requires explicit paths to scan fumadocs-ui:

```javascript
content: {
  files: [
    './src/**/*.{js,jsx,ts,tsx,mdx}',
    './content/**/*.{md,mdx}',
    // Scan from workspace root node_modules
    path.join(monorepoRoot, 'node_modules/fumadocs-ui/dist/**/*.js'),
    path.join(monorepoRoot, 'node_modules/fumadocs-ui/css/**/*.css'),
    path.join(monorepoRoot, 'node_modules/@fumadocs/ui/dist/**/*.js'),
  ],
},
```

#### 3. `next.config.mjs` - Webpack Aliases

For monorepo CSS resolution, webpack aliases map to root node_modules:

```javascript
config.resolve.alias = {
  'fumadocs-ui': path.resolve(monorepoRoot, 'node_modules/fumadocs-ui'),
  'fumadocs-core': path.resolve(monorepoRoot, 'node_modules/fumadocs-core'),
  tailwindcss: path.resolve(monorepoRoot, 'node_modules/tailwindcss'),
};
```

### Lessons Learned

1. **DO NOT** add manual CSS for `bg-fd-foreground/10` or `stroke-fd-foreground/10` - this causes duplicate lines
2. **DO** add manual CSS for Tailwind v4 arbitrary property utilities like `h-(--fd-height)` and `top-(--fd-top)`
3. **DO** define `--color-fd-foreground` CSS variable for the line colors to work
4. **DO** use `@source` directive in global.css to ensure fumadocs-ui classes are scanned

### TOC Responsive Behavior

```css
/* xl+ (â‰¥1280px): Show side TOC, hide popover */
/* <xl (<1280px): Show popover TOC, hide side TOC */
```

## Tailwind v4 Specific Notes

### Classes That Need Manual Definition

| Class             | Purpose            | Why Manual                                                 |
| ----------------- | ------------------ | ---------------------------------------------------------- |
| `h-(--fd-height)` | TOC thumb height   | Tailwind v4 doesn't generate arbitrary CSS property values |
| `top-(--fd-top)`  | TOC thumb position | Same as above                                              |

### Classes That Tailwind Generates (DO NOT Override)

| Class                     | Purpose                          |
| ------------------------- | -------------------------------- |
| `bg-fd-primary`           | Primary brand color backgrounds  |
| `text-fd-primary`         | Primary brand color text         |
| `bg-fd-foreground/10`     | Subtle line colors (10% opacity) |
| `stroke-fd-foreground/10` | SVG line strokes                 |

## Debugging Tips

### Check if Tailwind Classes are Generated

1. Build the production bundle: `npm run build`
2. Search the output CSS for the class name
3. Or use browser DevTools to inspect computed styles

### Common Issues

1. **Lines not showing**: Check if `--color-fd-foreground` is defined
2. **Duplicate lines**: Remove manual CSS overrides for `bg-fd-foreground/10`
3. **Colors not applying**: Ensure `!important` on CSS variable overrides
4. **Classes missing**: Check `@source` directive and tailwind.config.mjs content paths
